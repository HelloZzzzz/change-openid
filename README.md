## 微信公众号粉丝迁移
运营流程：(具体参考https://kf.qq.com/faq/170221uQ7Vz2170221ZzIZv6.html )

### 1、帐号迁移是什么？
公众号不支持直接变更主体。公众平台推出帐号迁移功能，通过此功能可将A账号的粉丝、文章素材（可选）、微信号（可选）、违规记录迁移至B帐号。

### 2、帐号迁移条件？
1）原公众号A必须是验证过主体信息的订阅号或服务号：组织类完成小额打款验证或认证成功（包括资质审核成功）；个人类注册成功。<br/>
2）目标账户B必须是验证过主体信息【小额打款验证或认证成功（包括资质审核成功）】的组织类订阅号或服务号。

### 3、帐号迁移需要提前准备哪些材料？
1）一个满足上述条件的目标帐号；<br/>
2）按照迁移流程指引，在第三步下载申请公函并填写；<br/>
3）对申请公函在公证机关进行印鉴公证，提供公证书（暂不支持律师见证）；<br/>
4）因需支付300元审核费用，若需开具增值税发票，请提前和财务申请准备好税号、税务登记证/营业执照、开户许可证。

### 4、帐号迁移费用？
帐号迁移”需支付审核服务费用人民币300元，该费用为用户基于腾讯公司提供的“帐号迁移”审核服务而产生的包括但不限于委托第三方专业审核机构提供审核服务等费用，一旦确认提交帐号迁移申请，该等成本和费用即已发生，与帐号迁移申请的审核结果无关，不存在退还审核服务费用的情况。
<br/>
温馨提示：审核中30天内有3次补充或重填机会，我司将通过公众平台通知中心进行通知，请您留意。

### 5、帐号迁移需要耗费多长时间？
帐号迁移的时间，将根据审核时间和确认迁移等时间确定：
1）提前准备阶段，需针对申请公函在当地公证机关进行公证，一般1-2个工作日出具公证结果；<br/>
2）提交帐号迁移申请后，会由专业第三方审核机构进行审核，审核时间为1-3个工作日；<br/>
3）审核通过后，双方管理员确认同意迁移。确认迁移后，系统马上冻结原账号并下发通知给原账号粉丝，粉丝在1天内有选择是否取关的权利；<br/>
4）1天后自动触发迁移，包括粉丝、群发素材、违规记录，时间随迁移量大小，将在1-3天内完成；<br/>
5）迁移完成后，新帐号名称同步。整个迁移流程结束。


## 注意事项

1、必须在审核成功后的15天内确认迁移通知

2、双方点击确认迁移后，为保证数据不受影响，原帐号会马上冻结，同时系统下发通知给原账号粉丝，告知迁移事宜，粉丝如有异议，可在1天内取消关注，取消关注的用户不会被迁移；

3、审核通过之后才有调用粉丝迁移接口权限详情见（https://kf.qq.com/faq/170221uQ7Vz2170221ZzIZv6.html ）


## 开发事项（具体参考https://kf.qq.com/faq/1901177NrqMr190117nqYJze.html ）：

1、生产环境数据导出为excel(.xlsx)，然后获取平台token之后调用腾讯接口获取新的openid（具体参考https://kf.qq.com/faq/1901177NrqMr190117nqYJze.html ）

## 数据格式：

![数据格式](https://github.com/HelloZzzzz/change-openid/blob/master/%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F.png)

id                           channel_id

1001000086722889             ovRu5s--2q9E3j166n9EUifNZTPE
</br>
1111111111111111	     XXXXXXXXXXXXXXXXXXXXXXXXXXXX

2、通过调用腾讯接口匹配到对应的值，生成新的openid，生成SQL进行投产。excel(.xlsx) ==> .sql

配置文件change-openid.properties

测试用例

	@Test
    public void executor() throws Exception {
        Executor executor = new ExecutorFactoryBuilder()
        .builder(Resource.getInputStream("src/main/resources/change-openid.properties"))
        .createExecutor();
        executor.handler();
    }






### TODO
</br>1、调取接口失败错误日志
</br>2、全局异常处理
</br>3、大文件懒加载


### EXPANSION
</br>1、其他形式的读取数据
</br>2、数据库对数据库






